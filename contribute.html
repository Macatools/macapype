<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>How to contribute to the sources of the project &#8212; macapype 0.3.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-rendered-html.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Events" href="brainhack.html" />
    <link rel="prev" title="External Pipelines" href="external_pipeline.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="_static/js/jquery-1.12.4.min.js "></script>
<script type="text/javascript" src="_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="_static/bootstrap-3.4.1/js/bootstrap.min.js "></script>
<script type="text/javascript" src="_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html"><span><img src="_static/logo_macapype.png"></span>
          Macapype</a>
        <span class="navbar-text navbar-version pull-left"><b>0.3.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="auto_examples/index.html">Gallery</a></li>
                <li><a href="api.html">API</a></li>
                <li><a href="tutorial.html">Tutorial</a></li>
                <li><a href="install.html">Installation</a></li>
                <li><a href="https://github.com/macatools/macapype">Github</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="install.html#dependancies">Dependancies</a><ul>
<li class="toctree-l3"><a class="reference internal" href="install.html#external-software-dependancies">External software dependancies</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#python-packages-dependancies">Python packages dependancies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="install.html#creating-environment-with-all-packages">Creating environment with all packages</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="install.html#install-macapype-package">Install macapype package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="install.html#from-github">from github</a><ul>
<li class="toctree-l4"><a class="reference internal" href="install.html#using-git">Using git</a></li>
<li class="toctree-l4"><a class="reference internal" href="install.html#using-pip">Using pip</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="install.html#from-pypi">from pypi</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#from-conda">From conda</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="install.html#testing-the-install">Testing the install</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="docker_install.html">Docker install</a><ul>
<li class="toctree-l2"><a class="reference internal" href="docker_install.html#dockerfile">Dockerfile</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker_install.html#docker-image">Docker image</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker_install.html#note-on-spm-docker">Note on SPM Docker</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="workflows.html">How to run workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="params.html">Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="indiv_params.html">Individual Parameters</a><ul>
<li class="toctree-l2"><a class="reference internal" href="indiv_params.html#adding-indiv">Adding -indiv</a></li>
<li class="toctree-l2"><a class="reference internal" href="indiv_params.html#list-of-indiv-params-recap">List of indiv params (recap):</a><ul>
<li class="toctree-l3"><a class="reference internal" href="indiv_params.html#data-preparation-ants-ants-t1-spm-spm-t1">Data preparation (ANTS, ANTS_T1, SPM, SPM_T1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="indiv_params.html#spm-based-pipelines-spm-and-spm-t1">SPM based pipelines (SPM and SPM_T1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="indiv_params.html#ants-based-pipelines">ANTS based pipelines</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#changing-parameters">Changing parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#adding-a-parameter-to-a-node-absent-from-params-json">Adding a parameter to a node absent from params.json</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#the-old-fashioned-way">the “old fashioned” way:</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#the-semi-dirty-way">the “semi-dirty” way</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#the-new-way-using-nodeparams">the new way: using NodeParams</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#new-multi-params">New: multi_params</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#modifying-an-existing-pipeline">Modifying an existing pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#wrapping-new-nodes">Wrapping new nodes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Pipeline examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="examples.html#macaque">Macaque:</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#marmoset">Marmoset:</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#baboon">Baboon:</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="pipelines.html">Pipelines</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pipelines.html#spm-based-pipelines">SPM-based pipelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pipelines.html#using-t1w-and-t2w-images">Using T1w and T2w images</a></li>
<li class="toctree-l3"><a class="reference internal" href="pipelines.html#using-only-a-t1w-image">Using only a T1w image</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="pipelines.html#ants-based-pipelines">ANTS-based pipelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pipelines.html#id2">Using T1w and T2w images</a></li>
<li class="toctree-l3"><a class="reference internal" href="pipelines.html#using-only-t1w-images">Using only T1w images</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="pipelines.html#data-preparation">Data preparation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pipelines.html#short-data-preparation">Short data preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="pipelines.html#long-data-preparation">Long data preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="pipelines.html#options">Options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="pipelines.html#reorient-sub-pipeline">Reorient sub-pipeline</a></li>
<li class="toctree-l4"><a class="reference internal" href="pipelines.html#denoise-and-denoise-first">Denoise and denoise_first</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="external_pipeline.html">External Pipelines</a><ul>
<li class="toctree-l2"><a class="reference internal" href="external_pipeline.html#macaque-diffusion-weighted-imaging">Macaque diffusion weighted imaging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="external_pipeline.html#how-to-create-a-whole-brain-tractogram">How to create a whole brain tractogram?</a><ul>
<li class="toctree-l4"><a class="reference internal" href="external_pipeline.html#perform-conversion-between-different-file-types">Perform conversion between different file types</a></li>
<li class="toctree-l4"><a class="reference internal" href="external_pipeline.html#generation-of-a-whole-brain-mask-from-a-dwi-image">Generation of a whole brain mask from a DWI image</a></li>
<li class="toctree-l4"><a class="reference internal" href="external_pipeline.html#diffusion-tensor-estimation">Diffusion tensor estimation</a></li>
<li class="toctree-l4"><a class="reference internal" href="external_pipeline.html#maps-generation-of-tensor-derived-parameters">Maps Generation of tensor-derived parameters</a></li>
<li class="toctree-l4"><a class="reference internal" href="external_pipeline.html#constrained-spherical-deconvolution-csd">Constrained spherical deconvolution (CSD)</a></li>
<li class="toctree-l4"><a class="reference internal" href="external_pipeline.html#fod-estimation">FOD estimation</a></li>
<li class="toctree-l4"><a class="reference internal" href="external_pipeline.html#convertion-of-the-macaque-t1-in-mif-file">Convertion of the macaque T1 in .mif file</a></li>
<li class="toctree-l4"><a class="reference internal" href="external_pipeline.html#generation-of-a-volume-which-contain-the-probability-to-be-on-the-gm-wm-interface">Generation of a volume which contain the probability to be on the gm-wm interface</a></li>
<li class="toctree-l4"><a class="reference internal" href="external_pipeline.html#perform-streamlines-tractography">Perform streamlines tractography</a></li>
<li class="toctree-l4"><a class="reference internal" href="external_pipeline.html#reduction-of-the-fibers-number">Reduction of the fibers number</a></li>
<li class="toctree-l4"><a class="reference internal" href="external_pipeline.html#estimation-of-the-registration-of-two-images-together-using-a-symmetric-rigid-transformation-model">Estimation of the registration of two images together using a symmetric rigid transformation model</a></li>
<li class="toctree-l4"><a class="reference internal" href="external_pipeline.html#application-of-the-spatial-transformations-to-an-image">Application of the spatial transformations to an image</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">How to contribute to the sources of the project</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#install-a-dev-version">Install a dev version</a></li>
<li class="toctree-l2"><a class="reference internal" href="#to-build-the-documentation">To build the documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pull-request">Pull Request</a></li>
<li class="toctree-l2"><a class="reference internal" href="#versionning">Versionning</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="brainhack.html">Events</a><ul>
<li class="toctree-l2"><a class="reference internal" href="brainhack.html#brainhack-marseille-2021">BrainHack Marseille 2021</a><ul>
<li class="toctree-l3"><a class="reference internal" href="brainhack.html#channels-of-communication">Channels of communication</a><ul>
<li class="toctree-l4"><a class="reference internal" href="brainhack.html#during-the-event">during the event</a></li>
<li class="toctree-l4"><a class="reference internal" href="brainhack.html#before-after-the-event">before/after the event</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="brainhack.html#project-pages">Project pages:</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainhack.html#program">Program:</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="docker_install.html">Docker install</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflows.html">How to run workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="params.html">Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="indiv_params.html">Individual Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Pipeline examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="pipelines.html">Pipelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="external_pipeline.html">External Pipelines</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">How to contribute to the sources of the project</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#install-a-dev-version">Install a dev version</a></li>
<li class="toctree-l2"><a class="reference internal" href="#to-build-the-documentation">To build the documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pull-request">Pull Request</a></li>
<li class="toctree-l2"><a class="reference internal" href="#versionning">Versionning</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="brainhack.html">Events</a></li>
</ul>
</ul>
</li>
              
            
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="_sources/contribute.rst.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="docker_install.html">Docker install</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflows.html">How to run workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="params.html">Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="indiv_params.html">Individual Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Pipeline examples</a></li>
<li class="toctree-l1"><a class="reference internal" href="pipelines.html">Pipelines</a></li>
<li class="toctree-l1"><a class="reference internal" href="external_pipeline.html">External Pipelines</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">How to contribute to the sources of the project</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#install-a-dev-version">Install a dev version</a></li>
<li class="toctree-l2"><a class="reference internal" href="#to-build-the-documentation">To build the documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="#pull-request">Pull Request</a></li>
<li class="toctree-l2"><a class="reference internal" href="#versionning">Versionning</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="brainhack.html">Events</a></li>
</ul>

<form action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      
  <section id="how-to-contribute-to-the-sources-of-the-project">
<span id="contribute"></span><h1>How to contribute to the sources of the project<a class="headerlink" href="#how-to-contribute-to-the-sources-of-the-project" title="Permalink to this headline">¶</a></h1>
<section id="install-a-dev-version">
<h2>Install a dev version<a class="headerlink" href="#install-a-dev-version" title="Permalink to this headline">¶</a></h2>
<p>The best way to contribute to the development of the source code is to:</p>
<ol class="arabic simple">
<li><p>Fork the official Macatools repo of macapype on your github account</p></li>
<li><p>Clone your forked repo in local and make it the installed package</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git clone https://github.com/my_github_account/macapype.git
<span class="nb">cd</span> macapype
python setup develop
</pre></div>
</div>
<p>(or, if you do not have root access:)</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>python setup develop --user
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Add the official Macatools repository (or remote) under the name “upstream”:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git remote add upstream https://github.com/Macatools/macapype.git
</pre></div>
</div>
<ol class="arabic simple" start="4">
<li><p>Make a new branch, corresponding to your modified feature:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git checkout -b my_new_feature
</pre></div>
</div>
<ol class="arabic simple" start="5">
<li><p>Do the modifications, test them on provided examples. All the intermediate modifications are commited/pushed to your branch, in your remote:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git commit -a -m<span class="s2">&quot;My modifications&quot;</span>
git push origin my_new_feature
</pre></div>
</div>
<ol class="arabic simple" start="6">
<li><p>Once your are satisfied with modifications in your local remote on my_new_feature branch, create a pull request (PR) to merge your branch with the official Macatools repo (see below)</p></li>
</ol>
</section>
<section id="to-build-the-documentation">
<h2>To build the documentation<a class="headerlink" href="#to-build-the-documentation" title="Permalink to this headline">¶</a></h2>
<p>Same as before, + the following packages:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip install sphinx_gallery
pip install sphinx_bootstrap_theme
pip install numpydoc
</pre></div>
</div>
</section>
<section id="pull-request">
<h2>Pull Request<a class="headerlink" href="#pull-request" title="Permalink to this headline">¶</a></h2>
<p>Some indications on how to create a PR:</p>
<ol class="arabic simple">
<li><p>The title of the PR should be as informative as possible about the modifications that have been done to the project (as it will be used in the forthcoming changelog). Adding some prefixes can also be useful (from the nipype documentation, but seems standard):</p></li>
</ol>
<ul class="simple">
<li><p>[ENH] for enhancements</p></li>
<li><p>[FIX] for bug fixes</p></li>
<li><p>[TST] for new or updated tests</p></li>
<li><p>[DOC] for new or updated documentation</p></li>
<li><p>[STY] for stylistic changes</p></li>
<li><p>[REF] for refactoring existing code</p></li>
</ul>
<ol class="arabic simple" start="2">
<li><p>It is also good practice to reduce as few as possible the number of commit messages. One standard way to do it is to use the rebase command, that allows to have a linear commit history. However, rebase can be tricky sometimes, in particular if several contributors have worked on a pull request. It is sometimes necessary (and nothing to be ashamed of!) to make a temporary copy, stat from a fresh version, and commit all your changes at once after creating a new branch. Here the typical way of rebasing your code:</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git fetch uptream
git rebase -i upstream/master
</pre></div>
</div>
<p>Here, all your commits will appear in a list. Normally you should keep (i.e. “pick” or “p”) the oldest one (i.e. the one at the top of the list) and “fixup” (or “f”) all remaining commits. If you are not satisfied of the commit message of the first commit, you can use “reword” (or “r”) to reword the commit message that will be kept. You then will be asked to force-push your rebased version</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git push -f origin my_new_feature
</pre></div>
</div>
<ol class="arabic simple" start="3">
<li><p>Once you are happy with all the previous steps, you can add a [MRG] for specifying that your branch is now ready to be merged, and create the PR (normally github automatically propose to create a PR when a new branch have been detected). Typically the PR should be from my_github_account:my_new_feature to macatools:master</p></li>
<li><p>A PR requires both automated checking and  “manual” reviewing. The automated checking corresponds to the automated checks, mostly unit tests and coverage. The manual reviewing is not mandatory, but highly recommended, as it is good practice that the merging is done by someone different than the person requesting the PR.</p></li>
<li><p>Once the PR is merged, you may delete the branch directly on your remote (i.e. your github account) as proposed by github. It is also good practice to delete the branch of local copy, and get the latest version in your master branch. Hence your local copy is similar to what you would have if you just cloned the newest master version of upstream.</p></li>
</ol>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>git checkout master
git pull upstream master
git branch -D my_new_feature
</pre></div>
</div>
</section>
<section id="versionning">
<h2>Versionning<a class="headerlink" href="#versionning" title="Permalink to this headline">¶</a></h2>
<p>We use the version in this way:</p>
<ul class="simple">
<li><p>until we are fully satisfied of the code (multiple full pipelines, evaluation, etc.), we stay in 0.? version.</p></li>
<li><p>second digits are modified when substancial new features have been added</p></li>
<li><p>third digits are more and more test and fixes (for the same release). Hence the 0.? or 0.?.0 is more bugged than the 0.?.1 , which itself if more bugged than the 0.?.2 etc…</p></li>
</ul>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2021, Macapype Developers (macatools). Last updated on 2021-12-03.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.3.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>