<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Pipelines &#8212; macapype 0.3.dev11 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/bootstrap-sphinx.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-binder.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-dataframe.css" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-rendered-html.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="How to contribute to the sources of the project" href="contribute.html" />
    <link rel="prev" title="Pipeline examples" href="examples.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="_static/js/jquery-1.12.4.min.js "></script>
<script type="text/javascript" src="_static/js/jquery-fix.js "></script>
<script type="text/javascript" src="_static/bootstrap-3.4.1/js/bootstrap.min.js "></script>
<script type="text/javascript" src="_static/bootstrap-sphinx.js "></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html"><span><img src="_static/logo_macapype.png"></span>
          Macapype</a>
        <span class="navbar-text navbar-version pull-left"><b>0.3.dev11</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="auto_examples/index.html">Gallery</a></li>
                <li><a href="api.html">API</a></li>
                <li><a href="tutorial.html">Tutorial</a></li>
                <li><a href="install.html">Installation</a></li>
                <li><a href="https://github.com/macatools/macapype">Github</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="install.html#dependancies">Dependancies</a><ul>
<li class="toctree-l3"><a class="reference internal" href="install.html#external-software-dependancies">External software dependancies</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#python-packages-dependancies">Python packages dependancies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="install.html#creating-environment-with-all-packages">Creating environment with all packages</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="install.html#install-macapype-package">Install macapype package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="install.html#from-github">from github</a><ul>
<li class="toctree-l4"><a class="reference internal" href="install.html#using-git">Using git</a></li>
<li class="toctree-l4"><a class="reference internal" href="install.html#using-pip">Using pip</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="install.html#from-pypi">from pypi</a></li>
<li class="toctree-l3"><a class="reference internal" href="install.html#from-conda">From conda</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="install.html#testing-the-install">Testing the install</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="docker_install.html">Docker install</a><ul>
<li class="toctree-l2"><a class="reference internal" href="docker_install.html#dockerfile">Dockerfile</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker_install.html#docker-image">Docker image</a></li>
<li class="toctree-l2"><a class="reference internal" href="docker_install.html#note-on-spm-docker">Note on SPM Docker</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="workflows.html">How to run workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="params.html">Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="indiv_params.html">Individual Parameters</a><ul>
<li class="toctree-l2"><a class="reference internal" href="indiv_params.html#adding-indiv">Adding -indiv</a></li>
<li class="toctree-l2"><a class="reference internal" href="indiv_params.html#list-of-indiv-params-recap">List of indiv params (recap):</a><ul>
<li class="toctree-l3"><a class="reference internal" href="indiv_params.html#data-preparation-ants-ants-t1-spm-spm-t1">Data preparation (ANTS, ANTS_T1, SPM, SPM_T1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="indiv_params.html#spm-based-pipelines-spm-and-spm-t1">SPM based pipelines (SPM and SPM_T1)</a></li>
<li class="toctree-l3"><a class="reference internal" href="indiv_params.html#ants-based-pipelines">ANTS based pipelines</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#changing-parameters">Changing parameters</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#adding-a-parameter-to-a-node-absent-from-params-json">Adding a parameter to a node absent from params.json</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#the-old-fashioned-way">the “old fashioned” way:</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#the-semi-dirty-way">the “semi-dirty” way</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#the-new-way-using-nodeparams">the new way: using NodeParams</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#new-multi-params">New: multi_params</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#modifying-an-existing-pipeline">Modifying an existing pipeline</a></li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#wrapping-new-nodes">Wrapping new nodes</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Pipeline examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="examples.html#macaque">Macaque:</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#marmoset">Marmoset:</a></li>
<li class="toctree-l2"><a class="reference internal" href="examples.html#baboon">Baboon:</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Pipelines</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#spm-based-pipelines">SPM-based pipelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#using-t1w-and-t2w-images">Using T1w and T2w images</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-only-a-t1w-image">Using only a T1w image</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ants-based-pipelines">ANTS-based pipelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">Using T1w and T2w images</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-only-t1w-images">Using only T1w images</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#data-preparation">Data preparation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#short-data-preparation">Short data preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#long-data-preparation">Long data preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#options">Options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#reorient-sub-pipeline">Reorient sub-pipeline</a></li>
<li class="toctree-l4"><a class="reference internal" href="#denoise-and-denoise-first">Denoise and denoise_first</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contribute.html">How to contribute to the sources of the project</a><ul>
<li class="toctree-l2"><a class="reference internal" href="contribute.html#install-a-dev-version">Install a dev version</a></li>
<li class="toctree-l2"><a class="reference internal" href="contribute.html#to-build-the-documentation">To build the documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="contribute.html#pull-request">Pull Request</a></li>
<li class="toctree-l2"><a class="reference internal" href="contribute.html#versionning">Versionning</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="brainhack.html">Events</a><ul>
<li class="toctree-l2"><a class="reference internal" href="brainhack.html#brainhack-marseille-2021">BrainHack Marseille 2021</a><ul>
<li class="toctree-l3"><a class="reference internal" href="brainhack.html#channels-of-communication">Channels of communication</a><ul>
<li class="toctree-l4"><a class="reference internal" href="brainhack.html#during-the-event">during the event</a></li>
<li class="toctree-l4"><a class="reference internal" href="brainhack.html#before-after-the-event">before/after the event</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="brainhack.html#project-pages">Project pages:</a></li>
<li class="toctree-l3"><a class="reference internal" href="brainhack.html#program">Program:</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="docker_install.html">Docker install</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflows.html">How to run workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="params.html">Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="indiv_params.html">Individual Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Pipeline examples</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Pipelines</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#spm-based-pipelines">SPM-based pipelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#using-t1w-and-t2w-images">Using T1w and T2w images</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-only-a-t1w-image">Using only a T1w image</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ants-based-pipelines">ANTS-based pipelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">Using T1w and T2w images</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-only-t1w-images">Using only T1w images</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#data-preparation">Data preparation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#short-data-preparation">Short data preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#long-data-preparation">Long data preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#options">Options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#reorient-sub-pipeline">Reorient sub-pipeline</a></li>
<li class="toctree-l4"><a class="reference internal" href="#denoise-and-denoise-first">Denoise and denoise_first</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contribute.html">How to contribute to the sources of the project</a></li>
<li class="toctree-l1"><a class="reference internal" href="brainhack.html">Events</a></li>
</ul>
</ul>
</li>
              
            
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="_sources/pipelines.rst.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="install.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="docker_install.html">Docker install</a></li>
<li class="toctree-l1"><a class="reference internal" href="workflows.html">How to run workflows</a></li>
<li class="toctree-l1"><a class="reference internal" href="params.html">Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="indiv_params.html">Individual Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="examples.html">Pipeline examples</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Pipelines</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#spm-based-pipelines">SPM-based pipelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#using-t1w-and-t2w-images">Using T1w and T2w images</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-only-a-t1w-image">Using only a T1w image</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#ants-based-pipelines">ANTS-based pipelines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id2">Using T1w and T2w images</a></li>
<li class="toctree-l3"><a class="reference internal" href="#using-only-t1w-images">Using only T1w images</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#data-preparation">Data preparation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#short-data-preparation">Short data preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#long-data-preparation">Long data preparation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#options">Options</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#reorient-sub-pipeline">Reorient sub-pipeline</a></li>
<li class="toctree-l4"><a class="reference internal" href="#denoise-and-denoise-first">Denoise and denoise_first</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contribute.html">How to contribute to the sources of the project</a></li>
<li class="toctree-l1"><a class="reference internal" href="brainhack.html">Events</a></li>
</ul>

<form action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      
  <section id="pipelines">
<span id="id1"></span><h1>Pipelines<a class="headerlink" href="#pipelines" title="Permalink to this headline">¶</a></h1>
<section id="spm-based-pipelines">
<h2>SPM-based pipelines<a class="headerlink" href="#spm-based-pipelines" title="Permalink to this headline">¶</a></h2>
<section id="using-t1w-and-t2w-images">
<h3>Using T1w and T2w images<a class="headerlink" href="#using-t1w-and-t2w-images" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="generated/macapype.pipelines.full_pipelines.create_full_spm_subpipes.html#macapype.pipelines.full_pipelines.create_full_spm_subpipes" title="macapype.pipelines.full_pipelines.create_full_spm_subpipes"><code class="xref py py-class docutils literal notranslate"><span class="pre">full</span> <span class="pre">SPM</span> <span class="pre">pipeline</span></code></a>, with the processing sequence:</p>
<ul class="simple">
<li><p><a class="reference internal" href="generated/macapype.pipelines.prepare.create_short_preparation_pipe.html#macapype.pipelines.prepare.create_short_preparation_pipe" title="macapype.pipelines.prepare.create_short_preparation_pipe"><code class="xref py py-class docutils literal notranslate"><span class="pre">Data</span> <span class="pre">preparation</span></code></a> (See <a class="reference internal" href="#data-prep"><span class="std std-ref">Data preparation</span></a> for more details)</p></li>
<li><p><a class="reference internal" href="generated/macapype.nodes.correct_bias.T1xT2BiasFieldCorrection.html#macapype.nodes.correct_bias.T1xT2BiasFieldCorrection" title="macapype.nodes.correct_bias.T1xT2BiasFieldCorrection"><code class="xref py py-class docutils literal notranslate"><span class="pre">T1xT2BiasFieldCorrection</span></code></a>: iterative normalisation to template space</p></li>
<li><p><a class="reference internal" href="generated/macapype.nodes.register.IterREGBET.html#macapype.nodes.register.IterREGBET" title="macapype.nodes.register.IterREGBET"><code class="xref py py-class docutils literal notranslate"><span class="pre">IterREGBET</span></code></a></p></li>
<li><p><a class="reference internal" href="generated/macapype.pipelines.segment.create_old_segment_pipe.html#macapype.pipelines.segment.create_old_segment_pipe" title="macapype.pipelines.segment.create_old_segment_pipe"><code class="xref py py-class docutils literal notranslate"><span class="pre">old_segment</span> <span class="pre">SPM</span> <span class="pre">based</span> <span class="pre">pipeline</span></code></a></p></li>
</ul>
</section>
<section id="using-only-a-t1w-image">
<h3>Using only a T1w image<a class="headerlink" href="#using-only-a-t1w-image" title="Permalink to this headline">¶</a></h3>
<p><code class="xref py py-class docutils literal notranslate"><span class="pre">full</span> <span class="pre">SPM</span> <span class="pre">T1</span> <span class="pre">pipeline</span></code>, with the processing sequence:</p>
<ul class="simple">
<li><p><a class="reference internal" href="generated/macapype.pipelines.prepare.create_short_preparation_pipe.html#macapype.pipelines.prepare.create_short_preparation_pipe" title="macapype.pipelines.prepare.create_short_preparation_pipe"><code class="xref py py-class docutils literal notranslate"><span class="pre">Data</span> <span class="pre">preparation</span></code></a> (See <a class="reference internal" href="#data-prep"><span class="std std-ref">Data preparation</span></a> for more details)</p></li>
<li><p><a class="reference internal" href="generated/macapype.nodes.correct_bias.T1xT2BiasFieldCorrection.html#macapype.nodes.correct_bias.T1xT2BiasFieldCorrection" title="macapype.nodes.correct_bias.T1xT2BiasFieldCorrection"><code class="xref py py-class docutils literal notranslate"><span class="pre">T1xT2BiasFieldCorrection</span></code></a> but the T1w replaces the T2w</p></li>
<li><p><a class="reference internal" href="generated/macapype.nodes.register.IterREGBET.html#macapype.nodes.register.IterREGBET" title="macapype.nodes.register.IterREGBET"><code class="xref py py-class docutils literal notranslate"><span class="pre">IterREGBET</span></code></a>: iterative normalisation to template space</p></li>
<li><p>ANTS non linear registration and FSL Apply XFM to tranform images to the template</p></li>
<li><p><a class="reference internal" href="generated/macapype.pipelines.segment.create_old_segment_pipe.html#macapype.pipelines.segment.create_old_segment_pipe" title="macapype.pipelines.segment.create_old_segment_pipe"><code class="xref py py-class docutils literal notranslate"><span class="pre">old_segment</span> <span class="pre">SPM</span> <span class="pre">based</span> <span class="pre">pipeline</span></code></a></p></li>
</ul>
<hr class="docutils" />
</section>
</section>
<section id="ants-based-pipelines">
<h2>ANTS-based pipelines<a class="headerlink" href="#ants-based-pipelines" title="Permalink to this headline">¶</a></h2>
<section id="id2">
<h3>Using T1w and T2w images<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="generated/macapype.pipelines.full_pipelines.create_full_ants_subpipes.html#macapype.pipelines.full_pipelines.create_full_ants_subpipes" title="macapype.pipelines.full_pipelines.create_full_ants_subpipes"><code class="xref py py-class docutils literal notranslate"><span class="pre">full</span> <span class="pre">ANTS</span> <span class="pre">pipeline</span></code></a>, with the processing sequence :</p>
<ul class="simple">
<li><p><a class="reference internal" href="generated/macapype.pipelines.prepare.create_short_preparation_pipe.html#macapype.pipelines.prepare.create_short_preparation_pipe" title="macapype.pipelines.prepare.create_short_preparation_pipe"><code class="xref py py-class docutils literal notranslate"><span class="pre">Short</span> <span class="pre">data</span> <span class="pre">preparation</span></code></a> or <a class="reference internal" href="generated/macapype.pipelines.prepare.create_long_single_preparation_pipe.html#macapype.pipelines.prepare.create_long_single_preparation_pipe" title="macapype.pipelines.prepare.create_long_single_preparation_pipe"><code class="xref py py-class docutils literal notranslate"><span class="pre">Long</span> <span class="pre">single</span> <span class="pre">data</span> <span class="pre">preparation</span></code></a> or <a class="reference internal" href="generated/macapype.pipelines.prepare.create_long_multi_preparation_pipe.html#macapype.pipelines.prepare.create_long_multi_preparation_pipe" title="macapype.pipelines.prepare.create_long_multi_preparation_pipe"><code class="xref py py-class docutils literal notranslate"><span class="pre">Long</span> <span class="pre">multi</span> <span class="pre">data</span> <span class="pre">preparation</span></code></a> (See <a class="reference internal" href="#data-prep"><span class="std std-ref">Data preparation</span></a> for more details)</p></li>
<li><dl class="simple">
<dt><a class="reference internal" href="generated/macapype.pipelines.full_pipelines.create_brain_extraction_pipe.html#macapype.pipelines.full_pipelines.create_brain_extraction_pipe" title="macapype.pipelines.full_pipelines.create_brain_extraction_pipe"><code class="xref py py-class docutils literal notranslate"><span class="pre">Brain</span> <span class="pre">extraction</span> <span class="pre">pipeline</span></code></a></dt><dd><ul>
<li><p><a class="reference internal" href="generated/macapype.pipelines.correct_bias.create_correct_bias_pipe.html#macapype.pipelines.correct_bias.create_correct_bias_pipe" title="macapype.pipelines.correct_bias.create_correct_bias_pipe"><code class="xref py py-class docutils literal notranslate"><span class="pre">debias</span> <span class="pre">pipeline</span></code></a> (similar to <a class="reference internal" href="generated/macapype.nodes.correct_bias.T1xT2BiasFieldCorrection.html#macapype.nodes.correct_bias.T1xT2BiasFieldCorrection" title="macapype.nodes.correct_bias.T1xT2BiasFieldCorrection"><code class="xref py py-class docutils literal notranslate"><span class="pre">T1xT2BiasFieldCorrection</span></code></a>, but all steps are nipype nodes)</p></li>
<li><p><a class="reference internal" href="generated/macapype.pipelines.extract_brain.create_extract_pipe.html#macapype.pipelines.extract_brain.create_extract_pipe" title="macapype.pipelines.extract_brain.create_extract_pipe"><code class="xref py py-class docutils literal notranslate"><span class="pre">extract</span> <span class="pre">brain</span> <span class="pre">pipeline</span></code></a> (using Atlax-Brex)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="generated/macapype.pipelines.full_pipelines.create_brain_segment_from_mask_pipe.html#macapype.pipelines.full_pipelines.create_brain_segment_from_mask_pipe" title="macapype.pipelines.full_pipelines.create_brain_segment_from_mask_pipe"><code class="xref py py-class docutils literal notranslate"><span class="pre">Brain</span> <span class="pre">segment</span> <span class="pre">from</span> <span class="pre">mask</span></code></a> :</dt><dd><ul>
<li><p><a class="reference internal" href="generated/macapype.pipelines.correct_bias.create_masked_correct_bias_pipe.html#macapype.pipelines.correct_bias.create_masked_correct_bias_pipe" title="macapype.pipelines.correct_bias.create_masked_correct_bias_pipe"><code class="xref py py-class docutils literal notranslate"><span class="pre">masked</span> <span class="pre">debias</span> <span class="pre">pipeline</span></code></a></p></li>
<li><p><a class="reference internal" href="generated/macapype.pipelines.register.create_register_NMT_pipe.html#macapype.pipelines.register.create_register_NMT_pipe" title="macapype.pipelines.register.create_register_NMT_pipe"><code class="xref py py-class docutils literal notranslate"><span class="pre">register</span> <span class="pre">pipeline</span></code></a> from template (NMT) to subject space</p></li>
<li><p><a class="reference internal" href="generated/macapype.pipelines.segment.create_segment_atropos_pipe.html#macapype.pipelines.segment.create_segment_atropos_pipe" title="macapype.pipelines.segment.create_segment_atropos_pipe"><code class="xref py py-class docutils literal notranslate"><span class="pre">segmentation</span> <span class="pre">pipeline</span></code></a> in subject space with Atropos</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
</section>
<section id="using-only-t1w-images">
<h3>Using only T1w images<a class="headerlink" href="#using-only-t1w-images" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="generated/macapype.pipelines.full_pipelines.create_full_T1_ants_subpipes.html#macapype.pipelines.full_pipelines.create_full_T1_ants_subpipes" title="macapype.pipelines.full_pipelines.create_full_T1_ants_subpipes"><code class="xref py py-class docutils literal notranslate"><span class="pre">full</span> <span class="pre">ANTS</span> <span class="pre">T1</span> <span class="pre">pipeline</span></code></a>, with the processing sequence :</p>
<ul class="simple">
<li><p><a class="reference internal" href="generated/macapype.pipelines.prepare.create_short_preparation_T1_pipe.html#macapype.pipelines.prepare.create_short_preparation_T1_pipe" title="macapype.pipelines.prepare.create_short_preparation_T1_pipe"><code class="xref py py-class docutils literal notranslate"><span class="pre">Short</span> <span class="pre">data</span> <span class="pre">T1</span> <span class="pre">preparation</span></code></a> (See <a class="reference internal" href="#data-prep"><span class="std std-ref">Data preparation</span></a> for more details)</p></li>
<li><dl class="simple">
<dt><a class="reference internal" href="generated/macapype.pipelines.full_pipelines.create_brain_extraction_T1_pipe.html#macapype.pipelines.full_pipelines.create_brain_extraction_T1_pipe" title="macapype.pipelines.full_pipelines.create_brain_extraction_T1_pipe"><code class="xref py py-class docutils literal notranslate"><span class="pre">Brain</span> <span class="pre">extraction</span> <span class="pre">pipeline</span></code></a></dt><dd><ul>
<li><p><a class="reference internal" href="generated/macapype.pipelines.extract_brain.create_extract_pipe.html#macapype.pipelines.extract_brain.create_extract_pipe" title="macapype.pipelines.extract_brain.create_extract_pipe"><code class="xref py py-class docutils literal notranslate"><span class="pre">extract</span> <span class="pre">brain</span> <span class="pre">pipeline</span></code></a> (using Atlax-Brex)</p></li>
</ul>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference internal" href="generated/macapype.pipelines.full_pipelines.create_brain_segment_from_mask_T1_pipe.html#macapype.pipelines.full_pipelines.create_brain_segment_from_mask_T1_pipe" title="macapype.pipelines.full_pipelines.create_brain_segment_from_mask_T1_pipe"><code class="xref py py-class docutils literal notranslate"><span class="pre">Brain</span> <span class="pre">segment</span> <span class="pre">from</span> <span class="pre">mask</span></code></a> :</dt><dd><ul>
<li><p><a class="reference internal" href="generated/macapype.pipelines.register.create_register_NMT_pipe.html#macapype.pipelines.register.create_register_NMT_pipe" title="macapype.pipelines.register.create_register_NMT_pipe"><code class="xref py py-class docutils literal notranslate"><span class="pre">register</span> <span class="pre">pipeline</span></code></a> from template (NMT) to subject space</p></li>
<li><p><a class="reference internal" href="generated/macapype.pipelines.segment.create_segment_atropos_pipe.html#macapype.pipelines.segment.create_segment_atropos_pipe" title="macapype.pipelines.segment.create_segment_atropos_pipe"><code class="xref py py-class docutils literal notranslate"><span class="pre">segmentation</span> <span class="pre">pipeline</span></code></a> in subject space with Atropos</p></li>
</ul>
</dd>
</dl>
</li>
</ul>
<hr class="docutils" />
</section>
</section>
<section id="data-preparation">
<h2>Data preparation<a class="headerlink" href="#data-preparation" title="Permalink to this headline">¶</a></h2>
<section id="short-data-preparation">
<h3>Short data preparation<a class="headerlink" href="#short-data-preparation" title="Permalink to this headline">¶</a></h3>
<p>Short data preparation corresponds to the pipelines where T1 and T2 images are averaged by modality from the beginning, and T2 is aligned to T1, then cropped or betcropped, and denoised.</p>
<p>The “auto”” version corresponds to <a class="reference internal" href="generated/macapype.pipelines.prepare.create_short_preparation_pipe.html#macapype.pipelines.prepare.create_short_preparation_pipe" title="macapype.pipelines.prepare.create_short_preparation_pipe"><code class="xref py py-class docutils literal notranslate"><span class="pre">short</span> <span class="pre">data</span> <span class="pre">preparation</span></code></a> with “betcrop” option (using <a class="reference internal" href="generated/macapype.nodes.extract_brain.T1xT2BET.html#macapype.nodes.extract_brain.T1xT2BET" title="macapype.nodes.extract_brain.T1xT2BET"><code class="xref py py-class docutils literal notranslate"><span class="pre">T1xT2BET</span></code></a>)</p>
<p>The “manual” version corresponds to <a class="reference internal" href="generated/macapype.pipelines.prepare.create_short_preparation_pipe.html#macapype.pipelines.prepare.create_short_preparation_pipe" title="macapype.pipelines.prepare.create_short_preparation_pipe"><code class="xref py py-class docutils literal notranslate"><span class="pre">short</span> <span class="pre">data</span> <span class="pre">preparation</span></code></a> with “crop” option, and specify crop box in args for each subject in individual params</p>
<span class="target" id="short-prep"></span><table class="docutils align-center">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="_images/graph.png"><img alt="logo1" src="_images/graph.png" style="width: 457.0px; height: 569.0px;" /></a></p></td>
<td><p><a class="reference internal" href="_images/graph1.png"><img alt="logo2" src="_images/graph1.png" style="width: 443.0px; height: 473.0px;" /></a></p></td>
</tr>
</tbody>
</table>
<p>The version with crop are used in <a class="reference internal" href="auto_examples/plot_segment_marmo_ants_based.html#plot-segment-marmo-ants-based"><span class="std std-ref">marmoset example</span></a>, the version with betcrop is used in both macaque examples with
<a class="reference internal" href="auto_examples/plot_segment_macaque_spm_based.html#plot-segment-macaque-spm-based"><span class="std std-ref">SPM</span></a> and <a class="reference internal" href="auto_examples/plot_segment_macaque_ants_based.html#plot-segment-macaque-ants-based"><span class="std std-ref">ANTS</span></a></p>
</section>
<section id="long-data-preparation">
<h3>Long data preparation<a class="headerlink" href="#long-data-preparation" title="Permalink to this headline">¶</a></h3>
<p>In some cases, you may want some processing done prior to the alignement, if T1 and T2 are very different.</p>
<p>In this case, after aligning and averaging by modality (all T1s -&gt; average_T1), you may crop, debias (N4) and denoise each image (average_T1 and average T2) indendantly before aligning average_T2 to average_T1 (<a class="reference internal" href="generated/macapype.pipelines.prepare.create_long_single_preparation_pipe.html#macapype.pipelines.prepare.create_long_single_preparation_pipe" title="macapype.pipelines.prepare.create_long_single_preparation_pipe"><code class="xref py py-class docutils literal notranslate"><span class="pre">long</span> <span class="pre">single</span> <span class="pre">data</span> <span class="pre">preparation</span></code></a>)</p>
<p>But in a very specific case, where the data of multiple sessions have been acquired with different settings (e.g. antenna contrast), you may have even all multiple modality data preprocessed (reorient, cropped, debiased, denoised) indendantly before being averaged and aligned by modality, and then av_T2 aligned to av_T1 (<a class="reference internal" href="generated/macapype.pipelines.prepare.create_long_multi_preparation_pipe.html#macapype.pipelines.prepare.create_long_multi_preparation_pipe" title="macapype.pipelines.prepare.create_long_multi_preparation_pipe"><code class="xref py py-class docutils literal notranslate"><span class="pre">long</span> <span class="pre">multi</span> <span class="pre">data</span> <span class="pre">preparation</span></code></a>)</p>
<span class="target" id="long-prep"></span><table class="docutils align-center">
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="_images/graph2.png"><img alt="logo3" src="_images/graph2.png" style="width: 580.0px; height: 688.8000000000001px;" /></a></p></td>
<td><p><a class="reference internal" href="_images/graph3.png"><img alt="logo4" src="_images/graph3.png" style="width: 580.0px; height: 688.8000000000001px;" /></a></p></td>
</tr>
</tbody>
</table>
<p>The short version is used for the <a class="reference internal" href="auto_examples/plot_segment_baboon_ants_based.html#plot-segment-baboon-ants-based"><span class="std std-ref">baboon example</span></a>, the long version has been tested on a data set with multiple T1s (not shown in examples).</p>
</section>
<section id="options">
<h3>Options<a class="headerlink" href="#options" title="Permalink to this headline">¶</a></h3>
<section id="reorient-sub-pipeline">
<h4>Reorient sub-pipeline<a class="headerlink" href="#reorient-sub-pipeline" title="Permalink to this headline">¶</a></h4>
<p>For all the preparation pipelines, it is possible to add at the beginning of the pipeline a “reorient” subpipelines by specifying
An example can be found in <a class="reference internal" href="auto_examples/plot_segment_sphinx_macaque_ants_based.html#plot-segment-sphinx-macaque-ants-based"><span class="std std-ref">macaque sphinx</span></a></p>
</section>
<section id="denoise-and-denoise-first">
<h4>Denoise and denoise_first<a class="headerlink" href="#denoise-and-denoise-first" title="Permalink to this headline">¶</a></h4>
<p>By default, denoising is done at the end of the preparation pipeline, on the cropped data. It is however possible to move the denoise at the beginning at the pipeline, with option denoise first. <em>N.B.:  This option is only available in long preparation (single and multi) so far</em></p>
</section>
</section>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2021, Macapype Developers (macatools). Last updated on 2021-11-29.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.3.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>