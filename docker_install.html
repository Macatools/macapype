<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Container install &#8212; Macapype 0.5.11-rc1 documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="_static/bootstrap-sphinx.css?v=284a2d1d" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery.css?v=d2d258e8" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-binder.css?v=f4aeca0c" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-dataframe.css?v=2082cf3c" />
    <link rel="stylesheet" type="text/css" href="_static/sg_gallery-rendered-html.css?v=1277b6f3" />
    <script src="_static/documentation_options.js?v=8d068b44"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Quick test" href="quick_test.html" />
    <link rel="prev" title="Installation" href="quick_install.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          Macapype</a>
        <span class="navbar-text navbar-version pull-left"><b>0.5.11-rc1</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
                <li><a href="https://github.com/davidmeunier79/macapype">Github</a></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="index.html">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quick_install.html">Installation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="quick_install.html#dependancies">Dependancies</a><ul>
<li class="toctree-l3"><a class="reference internal" href="quick_install.html#external-software-dependancies">External software dependancies</a></li>
<li class="toctree-l3"><a class="reference internal" href="quick_install.html#python-packages-dependancies">Python packages dependancies</a><ul>
<li class="toctree-l4"><a class="reference internal" href="quick_install.html#creating-environment-with-all-packages">Creating environment with all packages</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="quick_install.html#install-macapype-package">Install macapype package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="quick_install.html#from-github">from github</a><ul>
<li class="toctree-l4"><a class="reference internal" href="quick_install.html#using-git">Using git</a></li>
<li class="toctree-l4"><a class="reference internal" href="quick_install.html#using-pip">Using pip</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="quick_install.html#from-pypi">from pypi</a></li>
<li class="toctree-l3"><a class="reference internal" href="quick_install.html#from-conda">From conda</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="quick_install.html#testing-the-install">Testing the install</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Container install</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#dockerfile">Dockerfile</a></li>
<li class="toctree-l2"><a class="reference internal" href="#docker-image">Docker image</a></li>
<li class="toctree-l2"><a class="reference internal" href="#note-on-singularity">Note on Singularity</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quick_test.html">Quick test</a><ul>
<li class="toctree-l2"><a class="reference internal" href="quick_test.html#download-datasets">Download datasets</a></li>
<li class="toctree-l2"><a class="reference internal" href="quick_test.html#testing-depending-on-the-installation">Testing depending on the installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="quick_test.html#testing-from-singularity-image">Testing from Singularity image</a></li>
<li class="toctree-l3"><a class="reference internal" href="quick_test.html#testing-from-docker-image">Testing from docker image</a></li>
<li class="toctree-l3"><a class="reference internal" href="quick_test.html#testing-from-python-package-install">Testing from python package install</a><ul>
<li class="toctree-l4"><a class="reference internal" href="quick_test.html#from-pip-install">From pip install</a></li>
<li class="toctree-l4"><a class="reference internal" href="quick_test.html#from-github-install">From github install</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="quick_test.html#testing-the-macaque-and-baboon-datasets">Testing the macaque and baboon datasets</a></li>
<li class="toctree-l2"><a class="reference internal" href="quick_test.html#testing-different-pipelines-and-options">Testing different pipelines and options</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="command.html">Launching a processing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="command.html#commands">Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="command.html#expected-input-data">Expected input data</a></li>
<li class="toctree-l2"><a class="reference internal" href="command.html#command-line-parameters">Command line parameters</a><ul>
<li class="toctree-l3"><a class="reference internal" href="command.html#the-following-parameters-are-mandatory">The following parameters are mandatory</a></li>
<li class="toctree-l3"><a class="reference internal" href="command.html#the-following-parameters-are-exclusive">The following parameters are exclusive</a></li>
<li class="toctree-l3"><a class="reference internal" href="command.html#the-following-parameters-are-optional">The following parameters are optional</a></li>
<li class="toctree-l3"><a class="reference internal" href="command.html#id1">The following parameters are optional</a><ul>
<li class="toctree-l4"><a class="reference internal" href="command.html#command-line-examples">Command line examples</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="params.html">Parameters</a><ul>
<li class="toctree-l2"><a class="reference internal" href="params.html#adding-params">Adding -params</a></li>
<li class="toctree-l2"><a class="reference internal" href="params.html#advanced-parameters-settings">Advanced parameters settings</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="indiv_params.html">Individual Parameters</a><ul>
<li class="toctree-l2"><a class="reference internal" href="indiv_params.html#adding-indiv">Adding -indiv</a></li>
<li class="toctree-l2"><a class="reference internal" href="indiv_params.html#advanced-parameters-settings">Advanced parameters settings</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quick_install.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Container install</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#dockerfile">Dockerfile</a></li>
<li class="toctree-l2"><a class="reference internal" href="#docker-image">Docker image</a></li>
<li class="toctree-l2"><a class="reference internal" href="#note-on-singularity">Note on Singularity</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quick_test.html">Quick test</a></li>
<li class="toctree-l1"><a class="reference internal" href="command.html">Launching a processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="params.html">Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="indiv_params.html">Individual Parameters</a></li>
</ul>
</ul>
</li>
              
            
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="_sources/docker_install.rst.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
      <div class="col-md-3">
        <div id="sidebar" class="bs-sidenav" role="complementary"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="quick_install.html">Installation</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Container install</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#dockerfile">Dockerfile</a></li>
<li class="toctree-l2"><a class="reference internal" href="#docker-image">Docker image</a></li>
<li class="toctree-l2"><a class="reference internal" href="#note-on-singularity">Note on Singularity</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="quick_test.html">Quick test</a></li>
<li class="toctree-l1"><a class="reference internal" href="command.html">Launching a processing</a></li>
<li class="toctree-l1"><a class="reference internal" href="params.html">Parameters</a></li>
<li class="toctree-l1"><a class="reference internal" href="indiv_params.html">Individual Parameters</a></li>
</ul>

        </div>
      </div>
    <div class="body col-md-9 content" role="main">
      
  <section id="container-install">
<span id="docker-install"></span><h1>Container install<a class="headerlink" href="#container-install" title="Link to this heading">¶</a></h1>
<p>Docker allows to provide all necessary softwares in extra to macapype packages. The Docker image we provide include ANTS 2.3.1, FSL 5.0.10 and AFNI (latest version). See at the bottom of this page for docker with SPM Stand-alone.</p>
<p><strong>Note 1</strong> :the image is quite big (~5GB) so requires some space on your “/” partition.</p>
<section id="dockerfile">
<h2>Dockerfile<a class="headerlink" href="#dockerfile" title="Link to this heading">¶</a></h2>
<p>Downloading Dockerfile and building an image:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="c1"># Downloading Dockerfile</span>
$<span class="w"> </span>wget<span class="w"> </span>https://github.com/Macatools/macapype/blob/master/Dockerfile

<span class="c1"># Building your image from the Dockerfile</span>
$<span class="w"> </span>docker<span class="w"> </span>build<span class="w"> </span>-t<span class="w"> </span>macapype_docker<span class="w"> </span>.
</pre></div>
</div>
</section>
<section id="docker-image">
<h2>Docker image<a class="headerlink" href="#docker-image" title="Link to this heading">¶</a></h2>
<p>A docker image can also be downloaded directly from <a class="reference external" href="https://hub.docker.com/r/macatools/macapype">DockerHub repo</a> :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>docker<span class="w"> </span>pull<span class="w"> </span>macatools/macapype:latest
</pre></div>
</div>
<p>Starting from the release v0.2.1 on github, the docker images are tagged accordingly on Dockerhub:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span>docker<span class="w"> </span>pull<span class="w"> </span>macatools/macapype:version-0.2.1
</pre></div>
</div>
<p>See <a class="reference internal" href="quick_test.html#quick-test"><span class="std std-ref">Quick test</span></a> for testing if your docker installation works properly on test datasets.</p>
</section>
<section id="note-on-singularity">
<h2>Note on Singularity<a class="headerlink" href="#note-on-singularity" title="Link to this heading">¶</a></h2>
<p>It is possible (and recommanded) to use singularity version of container on shared computers/clusters. macapype docker version has been tested and is compatible with versions of singularity higher than 0.3 (“sif” version)</p>
<p>Here is an example of a command line to install and convert the docker image to singularity image :</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$<span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">SINGULARITY_TMPDIR</span><span class="o">=</span>/tmp/<span class="p">;</span><span class="w"> </span><span class="nb">export</span><span class="w"> </span><span class="nv">SINGULARITY_CACHEDIR</span><span class="o">=</span>/tmp/<span class="p">;</span><span class="w"> </span>sudo<span class="w"> </span>-E<span class="w"> </span>/path/to/bin/singularity<span class="w"> </span>build<span class="w"> </span>/path/to/containers/macapype_v0.4.2.sif<span class="w"> </span>docker://macatools/macapype:v0.4.2
</pre></div>
</div>
<p>It <em>seems</em> the sudo priviliges are required to install and build images, so in case you have trouble, ask the admin of your cluster to perform this operation</p>
<p>See <a class="reference internal" href="quick_test.html#quick-test"><span class="std std-ref">Quick test</span></a> for testing if your singularity installation works properly on test datasets.</p>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2025, Macapype Developers (macatools). Last updated on 2025-05-16.<br/>
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 8.1.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>